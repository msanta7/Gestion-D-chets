<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>

<AnchorPane prefHeight="600.0" prefWidth="700.0" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.gestiondechets.PopupSignalementController">

    <!-- En-tête -->
    <AnchorPane prefHeight="60.0" prefWidth="700.0" style="-fx-background-color: #2ecc71;">
        <Label layoutX="20.0" layoutY="15.0" style="-fx-text-fill: white; -fx-font-size: 20px; -fx-font-weight: bold;" text="Nouveau Signalement" />
    </AnchorPane>

    <!-- Zone de défilement pour le contenu -->
    <ScrollPane fitToWidth="true" layoutY="60.0" prefHeight="460.0" prefWidth="700.0">
        <AnchorPane prefHeight="614.0" prefWidth="685.0">

            <!-- Section 1: Informations générales -->
            <Label layoutX="20.0" layoutY="49.0" style="-fx-text-fill: #2c3e50; -fx-font-size: 18px; -fx-font-weight: bold;" text="Informations du signalement" />

            <!-- Adresse -->
            <Label layoutX="20.0" layoutY="110.0" prefWidth="150.0" style="-fx-text-fill: #7f8c8d; -fx-font-size: 14px;" text="Adresse:" />
            <TextField fx:id="adresseField" layoutX="180.0" layoutY="105.0" prefWidth="300.0" promptText="Ex: Rue Mohammed V, Casablanca" />

            <!-- Description -->
            <Label layoutX="20.0" layoutY="160.0" prefWidth="150.0" style="-fx-text-fill: #7f8c8d; -fx-font-size: 14px;" text="Description:" />
            <TextArea fx:id="descriptionArea" layoutX="180.0" layoutY="155.0" prefHeight="100.0" prefWidth="300.0" promptText="Décrivez le problème (optionnel)" wrapText="true" />

            <!-- Section 2: Photo -->
            <Label layoutX="16.0" layoutY="263.0" style="-fx-text-fill: #2c3e50; -fx-font-size: 18px; -fx-font-weight: bold;" text="Ajouter une photo" />

            <!-- Zone d'upload -->
            <AnchorPane fx:id="uploadZone" layoutX="20.0" layoutY="320.0" prefHeight="200.0" prefWidth="640.0" style="-fx-background-color: #f8f9fa; -fx-border-color: #ddd; -fx-border-radius: 5;">
                <ImageView fx:id="previewImageView" fitHeight="150.0" fitWidth="150.0" layoutX="245.0" layoutY="25.0" preserveRatio="true" />
                <Label fx:id="photoLabel" layoutX="20.0" layoutY="170.0" style="-fx-text-fill: #7f8c8d;" text="Aucune photo sélectionnée" />

                <!-- Boutons photo -->
                <HBox layoutX="210.0" layoutY="170.0" spacing="10.0">
                    <Button fx:id="btnChoisirPhoto" onAction="#choisirPhoto" style="-fx-background-color: #3498db; -fx-text-fill: white; -fx-background-radius: 5;" text="Choisir une photo" />
                    <Button fx:id="btnSupprimerPhoto" onAction="#supprimerPhoto" style="-fx-background-color: #e74c3c; -fx-text-fill: white; -fx-background-radius: 5;" text="Supprimer" />
                </HBox>
            </AnchorPane>

            <Label layoutX="20.0" layoutY="530.0" style="-fx-text-fill: #95a5a6; -fx-font-size: 12px;" text="Formats acceptés: JPG, PNG (max 5MB)" />

        </AnchorPane>
    </ScrollPane>

    <!-- Pied de page avec boutons -->
    <AnchorPane layoutY="520.0" prefHeight="80.0" prefWidth="700.0" style="-fx-background-color: #f8f9fa; -fx-border-color: #eee; -fx-border-width: 1 0 0 0;">

        <HBox layoutX="250.0" layoutY="20.0" spacing="20.0">
            <Button onAction="#fermerPopup" prefHeight="40.0" prefWidth="120.0" style="-fx-background-color: #95a5a6; -fx-text-fill: white; -fx-background-radius: 5;" text="Annuler" />
            <Button fx:id="btnValider" onAction="#validerSignalement" prefHeight="40.0" prefWidth="120.0" style="-fx-background-color: #2ecc71; -fx-text-fill: white; -fx-background-radius: 5;" text="Valider" />
        </HBox>

    </AnchorPane>

</AnchorPane>
